(this.webpackJsonpmcr=this.webpackJsonpmcr||[]).push([[0],{31:function(e,t,n){e.exports={PLAYER_MAX_HEIGHT:"80%"}},33:function(e,t,n){e.exports=n(60)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r,a,c,l=n(0),o=n.n(l),i=n(12),u=n.n(i),s=n(61),d=n(1),m=(n(38),function(){return o.a.createElement("div",{className:"loader","data-test-id":"call-records-list/loader"},o.a.createElement("div",{className:"loader__overlay"}),o.a.createElement("div",{className:"loader__spinner"}))}),f=n(6),p=(n(39),function(e){var t=e.children,n=Object(f.a)(e,["children"]);return o.a.createElement("button",Object.assign({},n,{className:"button"}),t)}),g=(n(40),function(e){var t=e.text,n=e.highlight,r=e.tag,a=void 0===r?"span":r,c=n.toLowerCase(),l=t.split(new RegExp("(".concat(n,")"),"gi"));return o.a.createElement(a,null,l.map((function(e,t){return e.toLowerCase()===c?o.a.createElement("span",{className:"highlighted",key:t},e):e})))});function E(e){var t=e.timestamp,n=e.separator,r=void 0===n?"T":n;if(!t)return"";var a=new Date(t),c=a.getMonth()+1,l=a.getDate(),o=a.getFullYear(),i=a.getHours(),u=a.getMinutes();return"".concat(o,"-").concat(v(c),"-").concat(v(l)).concat(r).concat(i,":").concat(u)}function v(e){return e<10?"0".concat(e):e.toString()}function h(e){return"string"===typeof e}function O(e){return"number"===typeof e}function y(e){return"boolean"===typeof e}!function(e){e.INCOMING="INCOMING",e.OUTCOMING="OUTCOMING"}(r||(r={})),function(e){e.DATE_ACS="DATE_ACS",e.DATE_DES="DATE_DES",e.DURATION_ACS="DURATION_ACS",e.DURATION_DES="DURATION_DES",e.NAME_ALPHABET_ACS="NAME_ALPHABET_ACS"}(a||(a={})),function(e){e.ALL="ALL",e.INCOMING="INCOMING",e.OUTCOMING="OUTCOMING"}(c||(c={}));var b=Array.isArray;function R(e){return"object"===typeof e&&null!==e}var _="function"===typeof Number.isNaN?Number.isNaN:function(e){return e!==e};function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=parseInt(e,10);return _(n)?t:n}function C(e,t){var n,r=function(){return O(n)&&clearTimeout(n)},a=function(){for(var a=this,c=arguments.length,l=new Array(c),o=0;o<c;o++)l[o]=arguments[o];r(),n=window.setTimeout((function(){t.apply(a,l),n=null}),e)};return a.cancel=r,a}function j(e){var t=Math.floor(e/3600);return e%=3600,[t,Math.floor(e/60),e%60].map((function(e){return e<10?"0"+e:e})).filter((function(e,t){return"00"!==e||t>0})).join(":")}var x="http://localhost:3001/api/v1",w=function(){};function N(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}function T(e,t,n){e.removeEventListener(t,n)}var D=n(20);function M(e,t,n){var r=h(n)&&h(t)?Object(D.a)({},t,n):R(t)?t:{};Object.entries(r).forEach((function(t){var n=Object(d.a)(t,2),r=n[0],a=n[1];e.style[r]=a}))}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.useBubble,a=void 0!==r&&r,c=function(){return T(e,"transitionend",l)},l=function(n){(a||n.target===e)&&(t(n),c())};return e.addEventListener("transitionend",l),c}function I(e){return e}var L=0,k={get id(){return L++}};function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function F(e,t){return globalThis.fetch("".concat(x).concat(e),t).then((function(e){return e.ok?e.json():Promise.reject(e)}))}function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.flatMap((function(e){return e.split(/\s+/)})).forEach((function(t){return t&&e.classList.add(t)}))}function B(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.flatMap((function(e){return e.split(/\s+/)})).forEach((function(t){return e.classList.remove(t)}))}function Q(e){return Object.entries(e).reduce((function(e,t){var n=Object(d.a)(t,2),r=n[0];return n[1]?e+r+" ":e}),"")}function z(){var e=document,t=e.body,n=e.documentElement;t.style.overflowY="hidden",n.style.overflowY="hidden"}function G(){var e=document,t=e.body,n=e.documentElement;t.style.overflowY="",n.style.overflowY=""}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var V=o.a.createElement("defs",null),X=o.a.createElement("g",null,o.a.createElement("path",{d:"M2385 260l8 1396c0,54 -43,98 -97,98 -54,0 -97,-43 -97,-97l-7 -1171 -1878 1878c-38,39 -100,39 -138,0 -39,-38 -39,-99 0,-138l1878 -1878 -1171 -6c-54,-1 -97,-44 -97,-98 0,-54 44,-97 98,-97l1396 8c64,0 102,43 105,105z"})),W=function(e){var t=e.svgRef,n=e.title,r=H(e,["svgRef","title"]);return o.a.createElement("svg",Y({height:"300px",width:"300px",xmlSpace:"preserve",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality"},viewBox:"0 0 2540 2540",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",ref:t},r),n?o.a.createElement("title",null,n):null,V,X)},q=o.a.forwardRef((function(e,t){return o.a.createElement(W,Y({svgRef:t},e))}));n.p;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var $=o.a.createElement("defs",null),K=o.a.createElement("g",null,o.a.createElement("path",{d:"M155 2280l-8 -1396c0,-54 43,-98 97,-98 53,0 97,43 97,97l7 1171 1878 -1879c39,-38 100,-38 139,0 38,39 38,100 0,139l-1879 1878 1171 7c54,0 97,44 97,97 0,54 -44,97 -98,97l-1396 -8c-61,-3 -102,-43 -105,-105z"})),ee=function(e){var t=e.svgRef,n=e.title,r=Z(e,["svgRef","title"]);return o.a.createElement("svg",J({height:"300px",width:"300px",xmlSpace:"preserve",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality"},viewBox:"0 0 2540 2540",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",ref:t},r),n?o.a.createElement("title",null,n):null,$,K)},te=o.a.forwardRef((function(e,t){return o.a.createElement(ee,J({svgRef:t},e))}));n.p,n(41);var ne=function(e){var t=e.record,n=e.hasDuration,a=void 0===n||n,c=e.theme,l=void 0===c?"default":c,i=e.searchQuery,u=function(e){var t=e.collocutor,n=t.firstName,r=t.lastName,a=t.middleName;return[n,r,a].filter(I).join(" ")}(t);return o.a.createElement("div",null,o.a.createElement("div",{className:"record-info ".concat(Q({"record-info--light":"light"===l,"record-info--error":"error"===l}))},o.a.createElement("div",{className:"record-info__collocutor"},o.a.createElement("h4",{className:"heading record-info__name"},i?o.a.createElement(g,{text:u||t.collocutor.phone,highlight:i}):u||t.collocutor.phone)),u&&(i?o.a.createElement(g,{text:"Mobile "+t.collocutor.phone,highlight:i}):o.a.createElement("div",{style:{marginBottom:5}},"Mobile ",t.collocutor.phone)),o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},t.direction===r.INCOMING?o.a.createElement(te,{className:"record-info__call-direction"}):o.a.createElement(q,{className:"record-info__call-direction"}),o.a.createElement("span",{className:"record-info__date"},E({timestamp:t.createdAt,separator:" "})),a&&j(t.record.duration))))};function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ce=o.a.createElement("path",{d:"m320 64c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"}),le=o.a.createElement("path",{d:"m128 64c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"}),oe=o.a.createElement("path",{d:"m512 64c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"}),ie=function(e){var t=e.svgRef,n=e.title,r=ae(e,["svgRef","title"]);return o.a.createElement("svg",re({height:"512pt",viewBox:"0 -192 512 512",width:"512pt",ref:t},r),n?o.a.createElement("title",null,n):null,ce,le,oe)},ue=o.a.forwardRef((function(e,t){return o.a.createElement(ie,re({svgRef:t},e))}));n.p;function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function de(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var me=o.a.createElement("path",{d:"m176 288c0 8.832031 7.167969 16 16 16s16-7.167969 16-16v-192c0-8.832031-7.167969-16-16-16s-16 7.167969-16 16zm0 0"}),fe=o.a.createElement("path",{d:"m152 256v-128c0-8.832031-7.167969-16-16-16s-16 7.167969-16 16v128c0 8.832031 7.167969 16 16 16s16-7.167969 16-16zm0 0"}),pe=o.a.createElement("path",{d:"m80 240c8.832031 0 16-7.167969 16-16v-64c0-8.832031-7.167969-16-16-16s-16 7.167969-16 16v64c0 8.832031 7.167969 16 16 16zm0 0"}),ge=o.a.createElement("path",{d:"m264 256v-128c0-8.832031-7.167969-16-16-16s-16 7.167969-16 16v128c0 8.832031 7.167969 16 16 16s16-7.167969 16-16zm0 0"}),Ee=o.a.createElement("path",{d:"m304 144c-8.832031 0-16 7.167969-16 16v64c0 8.832031 7.167969 16 16 16s16-7.167969 16-16v-64c0-8.832031-7.167969-16-16-16zm0 0"}),ve=function(e){var t=e.svgRef,n=e.title,r=de(e,["svgRef","title"]);return o.a.createElement("svg",se({height:"384pt",viewBox:"0 0 375 375",width:"384pt",ref:t},r),n?o.a.createElement("title",null,n):null,me,fe,pe,ge,Ee)},he=o.a.forwardRef((function(e,t){return o.a.createElement(ve,se({svgRef:t},e))})),Oe=(n.p,n(42),function(e){var t=e.call,n=e.active,r=e.searchQuery,a=e.setOpenedMenu,c=e.setPlayingRecord,l=function(e,t){if(!t)return null;var n=t.toLowerCase(),r=e.findIndex((function(e){return e.text.toLowerCase().includes(n)}));if(r>-1)return[e[r-1],e[r],e[r+1]].filter(I);return null}(t.record.transcriptions,r);return o.a.createElement("li",{onClick:function(e){t.isDeleting?e.currentTarget.classList.add("records-list__item--error-shake"):t.isDeleting||c(t)},onAnimationEnd:function(e){return e.currentTarget.classList.remove("records-list__item--error-shake")},className:"records-list__item ".concat(Q({"records-list__item--active":n,"records-list__item--loading":t.isDeleting,"records-list__item--error":t.isFailed})),"data-test-id":"call-records-list/item"},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(ne,{record:t,hasDuration:!1,theme:t.isFailed?"error":"default",searchQuery:r}),o.a.createElement("div",{style:{display:"flex"}},n?o.a.createElement("div",{style:{marginRight:"15px"},className:"records-list__item-menu"},o.a.createElement("button",{onClick:function(e){e.stopPropagation(),a(t)},className:"records-list__item-menu-button records-list__item-menu-button--sound-waves",type:"button"},o.a.createElement(he,{className:"records-list__item-menu-icon"}))):o.a.createElement("span",{style:{fontSize:12,marginRight:15}},j(t.record.duration)),o.a.createElement("div",{className:"records-list__item-menu"},o.a.createElement("button",{onClick:function(e){e.stopPropagation(),a(t)},className:"records-list__item-menu-button",type:"button"},o.a.createElement(ue,{className:"records-list__item-menu-icon"}))))),l&&o.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:5},onClick:function(){console.log("go to message")}},l.map((function(e){var t=e.id,n=e.text,a=e.direction;return o.a.createElement("div",{style:{background:"#d3e3fb",padding:8,marginTop:5,borderRadius:7,alignSelf:"INCOMING"===a?"flex-start":"flex-end",maxWidth:"80%"},key:t},o.a.createElement(g,{text:n,highlight:r}))}))))});var ye,be=function(e){var t=e.records,n=e.playingRecord,r=e.setPlayingRecord,a=e.setOpenedMenu,c=e.fetchRecords,i=e.loadMoreRecords,u=e.hasMoreRecords,s=e.dateInterval,d=e.sorting,f=e.searchQuery,g=e.direction,E=e.isFetching,v=e.isFetchingFailed,h=e.isLoadingMore,O=e.isLoadingMoreFailed;return Object(l.useEffect)((function(){c({dateInterval:s,sorting:d,searchQuery:f,direction:g})}),[c,s,d,f,g]),o.a.createElement("ul",{className:"records-list"},E&&o.a.createElement(m,null),v?o.a.createElement("div",{className:"records-list__error","data-test-id":"call-records-list/error"},"Error ocurred. Check your internet connection."):o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement(Oe,{key:e.id,call:e,searchQuery:f,active:!!n&&n.id===e.id,setOpenedMenu:a,setPlayingRecord:r})})),u&&o.a.createElement("div",{style:{textAlign:"center",margin:"15px 0"}},o.a.createElement(p,{onClick:function(){return i()}},h?"Loading...":O?"Error...":"Load More"))))},Re=n(13),_e=n(2);function Se(e){return function(t){return{type:e,payload:t}}}!function(e){e.SET_RECORDS="SET_RECORDS",e.SET_SEARCH_QUERY="SET_SEARCH_QUERY",e.SET_SORTING="SET_SORTING",e.SET_DATE_INTERVAL="SET_DATE_INTERVAL",e.SET_CALL_DIRECTION="SET_CALL_DIRECTION",e.REQUEST_RECORDS="REQUEST_RECORDS",e.REQUEST_RECORDS_SUCCESS="REQUEST_RECORDS_SUCCESS",e.REQUEST_RECORDS_FAIL="REQUEST_RECORDS_FAIL",e.DELETE_RECORD_REQUEST="DELETE_RECORD_REQUEST",e.DELETE_RECORD_SUCCESS="DELETE_RECORD_SUCCESS",e.DELETE_RECORD_FAIL="DELETE_RECORD_FAIL",e.LOAD_MORE_RECORDS_REQUEST="LOAD_MORE_RECORDS_REQUEST",e.LOAD_MORE_RECORDS_SUCCESS="LOAD_MORE_RECORDS_SUCCESS",e.LOAD_MORE_RECORDS_FAIL="LOAD_MORE_RECORDS_FAIL"}(ye||(ye={}));var Ce={records:[],searchQuery:"",sorting:a.DATE_ACS,dateInterval:{},direction:c.ALL,page:1,hasMoreRecords:!1,isFetching:!1,isFetchingFailed:!1,isLoadingMore:!1,isLoadingMoreFailed:!1};var je=n(4),xe=n.n(je),we=n(8);function Ne(){return(Ne=Object(we.a)(xe.a.mark((function e(){var t,n,r,a,c,l,o,i,u,s,d,m,f=arguments;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},n=t.id,r=t.dateInterval,a=t.sorting,c=t.searchQuery,l=t.direction,o=t.page,e.next=3,Ae(1500);case 3:return i=function(e,t){return e?"".concat(t,"=").concat(encodeURIComponent(e)):""},s=(u=r||{}).from,d=u.to,m=[i(n,"from"),i(s,"from"),i(d,"to"),i(a,"sorting"),i(c,"q"),i(l,"direction"),i(o,"page")].filter(I).join("&"),e.abrupt("return",F("/records?".concat(m),{headers:Ie()}).then((function(e){return R(e)?{records:Le(e.records),hasMoreRecords:!!y(e.hasMoreRecords)&&e.hasMoreRecords}:{hasMoreRecords:!1,records:[]}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return(Te=Object(we.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(1500);case 2:return e.abrupt("return",globalThis.fetch("".concat(x,"/records/").concat(t),{headers:Ie()}).then((function(e){return e.json()})).then((function(e){return e})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return(De=Object(we.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(1500);case 2:return e.abrupt("return",F("/records/".concat(t),{method:"DELETE",headers:Ie()}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me={find:function(){return Ne.apply(this,arguments)},findById:function(e){return Te.apply(this,arguments)},remove:function(e){return De.apply(this,arguments)}};function Ae(e){return new Promise((function(t){return setTimeout(t,e)}))}function Ie(){var e=sessionStorage.getItem("token");return e?{Authorization:"Bearer ".concat(e)}:void 0}function Le(e){return b(e)?e.filter(R).map((function(e){return{id:O(e.id)?e.id:k.id,direction:P(r,e.direction)?e.direction:r.INCOMING,record:ke(e.record),collocutor:Fe(e.collocutor),createdAt:Ue(e.deletedAt,Date.now()),deletedAt:Ue(e.deletedAt,null),isDeleting:!1,isFailed:!1}})):[]}function ke(e){var t=R(e)?e:{};return{id:O(t.id)?t.id:k.id,file:h(t.file)?t.file:"",duration:O(t.duration)?t.duration:-1,transcriptions:Pe(t.transcriptions)}}function Pe(e){return b(e)?e.filter(R).map((function(e){return{id:O(e.id)?e.id:k.id,text:h(e.text)?e.text:"",direction:P(r,e.direction)?e.direction:r.INCOMING,createdAt:Ue(e.deletedAt,Date.now())}})):[]}function Fe(e){if(!R(e))return{phone:"unknown"};var t=e.phone,n=e.firstName,r=e.lastName,a=e.middleName;return{phone:h(t)?t:"unknown",firstName:h(n)?n:void 0,lastName:h(r)?r:void 0,middleName:h(a)?a:void 0}}function Ue(e,t){return O(e)&&!isNaN(e)&&isFinite(e)?e:t}var Be=n(11),Qe=Object(Be.a)(),ze=function(e){var t=e.children;return o.a.createElement(s.c,{history:Qe},t)},Ge=function(e,t){var n=Object(l.useRef)(!1);Object(l.useEffect)((function(){if(n.current)return e.apply(void 0,arguments);n.current=!0}),t)};function Ye(e,t){var n=Object(l.useRef)(null),r=Object(l.useCallback)((function(t){n.current=t,e(t)}),Object(Re.a)(t));return[n,r]}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSwipeTop,n=e.onSwipeBottom,r=e.onSwipeLeft,a=e.onSwipeRight,c=e.onPanMove,l=e.onPanEnd,o=e.onPanStart,i=e.threshold,u=void 0===i?30:i,s=null,d=null,m=null,f=null;return{onTouchStart:p,onTouchMove:g,onTouchEnd:E};function p(e){e.stopPropagation(),s=e.touches[0].clientX,d=e.touches[0].clientY,m=0,f=0,o&&o({event:e,startX:s,startY:d})}function g(e){if(e.stopPropagation(),s&&d){var t=e.touches[0],n=t.clientX,r=t.clientY;m=s-n,f=d-r,c&&c({event:e,deltaX:m,deltaY:f})}}function E(e){O(m)&&O(f)&&(l&&l({event:e,deltaX:m,deltaY:f}),Math.abs(m)>Math.abs(f)?Math.abs(m)>u&&(m>0?r&&r():a&&a()):Math.abs(f)>u&&(f>0?t&&t():n&&n()),s=null,d=null)}}var Ve=function(e){var t=e.notification,n=e.duration,r=e.removeNotification,a=Ye((function(e){e&&(U(e,"notification--inserting"),N((function(){B(e,"notification--inserting")})))}),[]),c=Object(d.a)(a,2),i=c[0],u=c[1],s=Object(l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right",n=i.current;n&&(U(n,"notification--removing","notification--removing-".concat(e)),A(n,(function(){r(t.id)})))}),[i,t,r]);Object(l.useEffect)((function(){var e;return e=window.setTimeout((function(){var e=i.current;e&&function(e,t){return e.classList.contains(t)}(e,"notification--removing")||s()}),n),function(){O(e)&&clearTimeout(e)}}),[i,n,s]);var m=Object(l.useMemo)((function(){return He({onSwipeLeft:function(){return s("left")},onSwipeRight:function(){return s("right")}})}),[s]);return o.a.createElement("div",Object.assign({className:"notification",ref:u,onClick:function(){return s()}},m),o.a.createElement("div",{className:"notification__content"},o.a.createElement("h4",{className:"heading notification__title"},t.title),o.a.createElement("div",{className:"notification__message"},t.message)),o.a.createElement("div",{className:"notification__closer"},"Close"))},Xe=n(28),We=n(29),qe=new(function(){function e(){Object(Xe.a)(this,e),this.add=void 0,this.remove=void 0}return Object(We.a)(e,[{key:"addNotification",value:function(e){var t;null===(t=this.add)||void 0===t||t.call(this,Object(_e.a)({},e,{id:k.id,isRemoved:!1}))}},{key:"removeNotification",value:function(e){var t;null===(t=this.remove)||void 0===t||t.call(this,e)}},{key:"register",value:function(e){var t=e.add,n=e.remove;this.add=t,this.remove=n}}]),e}()),Je=document,Ze=Je.body,$e=(Je.documentElement,document.createElement("div"));$e.id="modal-root",Ze.appendChild($e);n(48);var Ke,et=function(e){var t=e.title,n=e.message;qe.addNotification({title:t,message:n})},tt=function(e){var t,n=e.duration,r=void 0===n?5e3:n,a=Object(l.useState)([]),c=Object(d.a)(a,2),i=c[0],s=c[1],m=Object(l.useCallback)((function(e){s((function(t){return t.filter((function(t){return t.id!==e}))}))}),[s]);return Object(l.useEffect)((function(){qe.register({add:function(e){s((function(t){return[].concat(Object(Re.a)(t),[e])}))},remove:m})}),[r,s,m]),u.a.createPortal(o.a.createElement("div",{className:"notification-container"},(t=function(e){return o.a.createElement(Ve,{notification:e,key:e.id,duration:r,removeNotification:m})},i.reduceRight((function(e,n,r,a){var c=t(n,r,a);return e.push(c),e}),[]))),$e)},nt=Se(ye.SET_SEARCH_QUERY),rt=Se(ye.SET_SORTING),at=Se(ye.SET_DATE_INTERVAL),ct=Se(ye.SET_CALL_DIRECTION),lt=Se(ye.REQUEST_RECORDS),ot=Se(ye.REQUEST_RECORDS_SUCCESS),it=Se(ye.REQUEST_RECORDS_FAIL),ut=Se(ye.DELETE_RECORD_REQUEST),st=Se(ye.DELETE_RECORD_SUCCESS),dt=Se(ye.DELETE_RECORD_FAIL),mt=Se(ye.LOAD_MORE_RECORDS_REQUEST),ft=Se(ye.LOAD_MORE_RECORDS_SUCCESS),pt=Se(ye.LOAD_MORE_RECORDS_FAIL),gt=n(5);!function(e){e.SET_PLAYING_RECORD="SET_PLAYING_RECORD"}(Ke||(Ke={}));var Et={playingRecord:null};var vt=Se(Ke.SET_PLAYING_RECORD),ht={fetchRecords:function(e){var t=e.dateInterval,n=e.sorting,r=e.searchQuery,a=e.direction;return function(e){e(lt()),Me.find({dateInterval:t,sorting:n,searchQuery:r,direction:a}).then((function(t){e(ot(t))})).catch((function(t){if(401===t.status||403===t.status)return et({title:"Authorization error",message:"Log in to see your records"}),Qe.push("/login");w(t),e(it())}))}},loadMoreRecords:function(){return function(e,t){var n=t().callRecords,r=n.dateInterval,a=n.sorting,c=n.searchQuery,l=n.direction,o=n.page;e(mt()),Me.find({dateInterval:r,sorting:a,searchQuery:c,direction:l,page:o+1}).then((function(t){return e(ft(t))})).catch((function(t){w(t),e(pt())}))}},setPlayingRecord:vt},Ot=Object(gt.b)((function(e){return{records:e.callRecords.records,isFetching:e.callRecords.isFetching,isFetchingFailed:e.callRecords.isFetchingFailed,playingRecord:e.audioPlayer.playingRecord,dateInterval:e.callRecords.dateInterval,sorting:e.callRecords.sorting,searchQuery:e.callRecords.searchQuery,direction:e.callRecords.direction,hasMoreRecords:e.callRecords.hasMoreRecords,isLoadingMore:e.callRecords.isLoadingMore,isLoadingMoreFailed:e.callRecords.isLoadingMoreFailed}}),ht)(be),yt=(n(50),function(e){var t=e.value,n=e.onChange,r=e.name,a=e.type,c=void 0===a?"text":a,l=e.placeholder,i=e.leftIcon,u=e.rightIcon,s=e.fullWidth,d=void 0!==s&&s,m=Object(f.a)(e,["value","onChange","name","type","placeholder","leftIcon","rightIcon","fullWidth"]),p=i,g=u;return o.a.createElement("div",{className:"input ".concat(Q({"input--left-icon":!!p,"input--right-icon":!!g,"input--full-width":d}))},p&&o.a.createElement(p,{className:"input__icon input__icon--left"}),o.a.createElement("input",Object.assign({className:"input__field",onChange:n,value:t,type:c,name:r,placeholder:l},m)),g&&o.a.createElement(g,{className:"input__icon input__icon--right"}))});function bt(e,t,n){var r=function(e,t){var n=window.getComputedStyle(e),r=function(e){return(n[e]||"").split(", ")},a=r("transitionDelay"),c=r("transitionDuration"),l=Rt(a,c),o=r("animationDelay"),i=r("animationDuration"),u=Rt(o,i),s=null,d=0,m=0;"transition"===t?l>0&&(s="transition",d=l,m=c.length):"animation"===t?u>0&&(s="animation",d=u,m=i.length):(d=Math.max(l,u),m=(s=d>0?l>u?"transition":"animation":null)?"transition"===s?c.length:i.length:0);return{type:s,timeout:d,propCount:m}}(e,t),a=r.type,c=r.timeout,l=r.propCount;if(!a)return n();var o=a+"end",i=0,u=function(){e.removeEventListener(o,s),n()},s=function(t){t.target===e&&++i>=l&&u()};setTimeout((function(){i<l&&u()}),c+1),e.addEventListener(o,s)}function Rt(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(Math,t.map((function(t,n){return _t(t)+_t(e[n])})))}function _t(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}var St=function(e){var t=e.visible,n=e.name,r=void 0===n?"transition":n,a=e.appear,c=void 0!==a&&a,i=e.enterFromClass,u=void 0===i?"".concat(r,"-enter-from"):i,s=e.enterActiveClass,m=void 0===s?"".concat(r,"-enter-active"):s,f=e.enterToClass,p=void 0===f?"".concat(r,"-enter-to"):f,g=e.appearFromClass,E=void 0===g?u:g,v=e.appearActiveClass,h=void 0===v?m:v,O=e.appearToClass,y=void 0===O?p:O,b=e.leaveFromClass,R=void 0===b?"".concat(r,"-leave-from"):b,_=e.leaveActiveClass,S=void 0===_?"".concat(r,"-leave-active"):_,C=e.leaveToClass,j=void 0===C?"".concat(r,"-leave-to"):C,x=e.children,w=Object(l.useState)(t),T=Object(d.a)(w,2),D=T[0],M=T[1],A=Object(l.useRef)(null),I=function(){var e=Object(l.useRef)(!1);return Object(l.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}();Object(l.useLayoutEffect)((function(){if(t)M(!0);else if(A.current){var e=A.current;U(e,R),U(e,S),N((function(){B(e,R),U(e,j),bt(e,void 0,(function(){B(e,j),B(e,S),M(!1)}))}))}}),[t,S,R,j]);var L=Object(l.useCallback)((function(e){if(A.current=e,e){if(!c&&!I.current)return;var t=c&&!I.current;U(e,t?E:u),U(e,t?h:m),N((function(){B(e,t?E:u),U(e,t?y:p),bt(e,void 0,(function(){B(e,t?y:p),B(e,t?h:m)}))}))}}),[c,E,h,y,u,m,p,I]);if(!D)return null;var k=o.a.Children.only(x);return o.a.cloneElement(k,Object(_e.a)({ref:L},k.props))},Ct=(n(51),function(e){var t=e.isOpened,n=e.onClose,r=e.children;Object(l.useEffect)((function(){t?z():G()}),[t]);var a=Object(l.useMemo)((function(){return He({onSwipeBottom:n})}),[n]);return u.a.createPortal(o.a.createElement(St,{visible:t,name:"modal"},o.a.createElement("div",{className:"modal"},o.a.createElement("div",Object.assign({onClick:n,className:"modal__overlay"},a)),o.a.createElement("div",{className:"modal__content"},r))),$e)}),jt=(n(52),function(e){var t=e.value,n=e.options,r=e.onChange,a=e.hasArrow,c=void 0===a||a,l=e.hasBorder,i=void 0===l||l,u=e.isLight,s=void 0!==u&&u,d=Object(f.a)(e,["value","options","onChange","hasArrow","hasBorder","isLight"]);return o.a.createElement("div",Object.assign({className:"select ".concat(Q({"select--light":s,"select--noArrow":!c,"select--noBorder":!i}))},d),o.a.createElement("select",{className:"select__select",onChange:r,value:t},n.map((function(e){var t=e.title,n=e.value;return o.a.createElement("option",{key:"option-".concat(n),value:n},t)}))))}),xt=[{title:"\u043f\u043e \u0434\u0430\u0442\u0435 (\u0441\u043d\u0430\u0447\u0430\u043b\u043e \u043d\u043e\u0432\u044b\u0435)",value:a.DATE_ACS},{title:"\u043f\u043e \u0434\u0430\u0442\u0435 (\u0441\u043d\u0430\u0447\u0430\u043b\u043e \u0441\u0442\u0430\u0440\u044b\u0435)",value:a.DATE_DES},{title:"\u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 (\u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e)",value:a.DURATION_ACS},{title:"\u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 (\u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e)",value:a.DURATION_DES},{title:"\u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430 (\u0432 \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435)",value:a.NAME_ALPHABET_ACS}],wt=function(e){var t=e.selectedSorting,n=e.setSorting;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:"heading",style:{marginBottom:5}},"Sorting"),o.a.createElement(jt,{options:xt,onChange:function(e){return n(e.target.value)},value:t,style:{width:"90%",margin:"auto"}}))},Nt=function(e){var t=e.to,n=e.from,r=e.onFromChange,a=e.onToChange;return o.a.createElement("div",null,o.a.createElement("div",{style:{marginBottom:"20px"}},o.a.createElement("h4",{className:"heading",style:{marginBottom:5}},"From:"," "),o.a.createElement("input",{style:{width:"90%",padding:"10px",border:"1px solid #dedede",borderRadius:7},type:"datetime-local",onChange:r,value:n})),o.a.createElement("div",{style:{marginBottom:"20px"}},o.a.createElement("h4",{className:"heading",style:{marginBottom:5}},"To:"," "),o.a.createElement("input",{style:{width:"90%",padding:"10px",border:"1px solid #dedede",borderRadius:7},type:"datetime-local",onChange:a,value:t})))};function Tt(e){return function(t){var n=new Date(t.target.value).getTime();_(n)||e(n)}}var Dt=function(e){var t=e.value,n=e.onChange,r=Tt((function(e){return n(Object(_e.a)({},t,{from:e}))})),a=Tt((function(e){return n(Object(_e.a)({},t,{to:e}))}));return o.a.createElement(Nt,{to:E({timestamp:t.to}),from:E({timestamp:t.from}),onToChange:a,onFromChange:r})};function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function At(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var It=o.a.createElement("g",null,o.a.createElement("path",{d:"M45.8,9.4V18c-4.9,1.8-8.4,6.4-8.4,11.9s3.5,10.1,8.4,11.9v49c0,2.3,1.9,4.2,4.3,4.2c2.4,0,4.3-1.9,4.3-4.3   v-49c4.9-1.8,8.4-6.4,8.4-11.9S59.2,19.8,54.3,18V9.3C54.3,6.9,52.4,5,50,5C47.6,5,45.8,7,45.8,9.4z"}),o.a.createElement("path",{d:"M78.2,9.4l0,49.8c-4.9,1.8-8.4,6.4-8.4,11.9c0,5.5,3.5,10.1,8.4,11.9v7.8c0,2.4,1.9,4.3,4.2,4.3   c2.4,0,4.3-1.9,4.3-4.3v-7.9c4.9-1.7,8.4-6.3,8.4-11.8S91.5,61,86.6,59.1l0-49.8C86.7,7,84.8,5,82.3,5C80.1,5,78.2,7,78.2,9.4z"}),o.a.createElement("path",{d:"M21.9,90.8V67.9c4.9-1.8,8.4-6.4,8.4-11.9S26.8,46,21.9,44.1V9.4C21.9,7,20,5,17.6,5S13.3,7,13.3,9.4v34.8   C8.5,46,5,50.5,5,56s3.5,10.1,8.4,11.9v22.8c0,2.4,1.9,4.3,4.3,4.3C20,95,21.9,93.2,21.9,90.8z"})),Lt=function(e){var t=e.svgRef,n=e.title,r=At(e,["svgRef","title"]);return o.a.createElement("svg",Mt({height:"300px",width:"300px",fill:"#000000",x:"0px",y:"0px",viewBox:"0 0 100 100",style:{enableBackground:"new 0 0 100 100"},xmlSpace:"preserve",ref:t},r),n?o.a.createElement("title",null,n):null,It)},kt=o.a.forwardRef((function(e,t){return o.a.createElement(Lt,Mt({svgRef:t},e))})),Pt=(n.p,n(53),{setDateInterval:at,setSorting:rt}),Ft=Object(gt.b)((function(e){return{dateInterval:e.callRecords.dateInterval,sorting:e.callRecords.sorting}}),Pt)((function(e){var t=e.dateInterval,n=e.setDateInterval,r=e.sorting,a=e.setSorting,c=Object(l.useState)(t),i=Object(d.a)(c,2),u=i[0],s=i[1],m=Object(l.useState)(r),f=Object(d.a)(m,2),g=f[0],E=f[1],v=Object(l.useState)(!1),h=Object(d.a)(v,2),O=h[0],y=h[1],b=function(){y(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ct,{isOpened:O,onClose:b},o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(u),a(g),b()},style:{textAlign:"center"}},o.a.createElement(Dt,{value:u,onChange:s}),o.a.createElement(wt,{selectedSorting:g,setSorting:E}),o.a.createElement(p,{style:{marginTop:"20px"}},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"))),o.a.createElement("button",{onClick:function(){y(!0)},style:{width:35,height:35,marginLeft:10,borderRadius:7,background:"#f3f4fa",padding:7}},o.a.createElement(kt,{style:{width:"100%",height:"100%"}})))}));function Ut(){return(Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Qt=o.a.createElement("path",{d:"M190.707,180.101l-47.078-47.077c11.702-14.072,18.752-32.142,18.752-51.831C162.381,36.423,125.959,0,81.191,0 C36.422,0,0,36.423,0,81.193c0,44.767,36.422,81.187,81.191,81.187c19.688,0,37.759-7.049,51.831-18.751l47.079,47.078 c1.464,1.465,3.384,2.197,5.303,2.197c1.919,0,3.839-0.732,5.304-2.197C193.637,187.778,193.637,183.03,190.707,180.101z M15,81.193 C15,44.694,44.693,15,81.191,15c36.497,0,66.189,29.694,66.189,66.193c0,36.496-29.692,66.187-66.189,66.187 C44.693,147.38,15,117.689,15,81.193z"}),zt=o.a.createElement("g",null),Gt=o.a.createElement("g",null),Yt=o.a.createElement("g",null),Ht=o.a.createElement("g",null),Vt=o.a.createElement("g",null),Xt=o.a.createElement("g",null),Wt=o.a.createElement("g",null),qt=o.a.createElement("g",null),Jt=o.a.createElement("g",null),Zt=o.a.createElement("g",null),$t=o.a.createElement("g",null),Kt=o.a.createElement("g",null),en=o.a.createElement("g",null),tn=o.a.createElement("g",null),nn=o.a.createElement("g",null),rn=function(e){var t=e.svgRef,n=e.title,r=Bt(e,["svgRef","title"]);return o.a.createElement("svg",Ut({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 192.904 192.904",style:{enableBackground:"new 0 0 192.904 192.904"},xmlSpace:"preserve",ref:t},r),n?o.a.createElement("title",null,n):null,Qt,zt,Gt,Yt,Ht,Vt,Xt,Wt,qt,Jt,Zt,$t,Kt,en,tn,nn)},an=o.a.forwardRef((function(e,t){return o.a.createElement(rn,Ut({svgRef:t},e))})),cn=(n.p,function(e){var t=e.query,n=e.setSearchQuery,r=Object(l.useState)(t),a=Object(d.a)(r,2),c=a[0],i=a[1];return o.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:20}},o.a.createElement(yt,{value:c,onChange:function(e){var t=e.target.value;i(t),n(t)},leftIcon:an,placeholder:"Search",fullWidth:!0}),o.a.createElement(Ft,null))}),ln=Object(gt.b)((function(e){return{query:e.callRecords.searchQuery}}),(function(e){return{setSearchQuery:C(200,(function(t){e(nt(t))}))}}))(cn),on=(n(54),function(e){var t=e.variants,n=e.selectedValue,r=e.name,a=e.onChange;return o.a.createElement("div",{className:"variant"},t.map((function(e,t){var c=e.title,l=e.value,i=t.toString();return o.a.createElement(o.a.Fragment,{key:t},o.a.createElement("input",{id:i,className:"variant__input",type:"radio",value:l,onChange:function(e){return a(e.target.value)},checked:n===l,name:r}),o.a.createElement("label",{className:"variant__label",htmlFor:i},c))})))}),un=(n(55),[{title:"\u0432\u0441\u0435",value:c.ALL},{title:"\u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435",value:c.INCOMING},{title:"\u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435",value:c.OUTCOMING}]),sn=function(e){var t=e.direction,n=e.setCallDirection;return o.a.createElement(on,{selectedValue:t,onChange:function(e){return n(e)},variants:un,name:"call-direction"})},dn={setCallDirection:ct},mn=Object(gt.b)((function(e){return{direction:e.callRecords.direction}}),dn)(sn);var fn=function(e){var t=e.type,n=void 0===t?"horizontal":t,r=e.currentPercent,a=e.onUpdate,c=e.updateOnTouchmove,i=void 0!==c&&c,u=Object(l.useState)(0),s=Object(d.a)(u,2),m=s[0],f=s[1],p=Object(l.useRef)(!1),g=Object(l.useRef)(null),E=Object(l.useRef)();Object(l.useEffect)((function(){p.current||f(r)}),[r,f]);var v=Object(l.useMemo)((function(){return C(50,a)}),[a]),h=function(e){if(g.current&&E.current){var t=function(e,t){var n=Object(d.a)(t,2),r=n[0],a=n[1];return Math.max(r,Math.min(e,a))}(100*function(e,t,n){var r;if("vertical"===n){var a=e.bottom,c=e.height;r=(a-t.clientY)/c}else{var l=e.left,o=e.width;r=(t.clientX-l)/o}return r}(E.current,e.touches[0],n),[0,100]);f(t),i&&v(t)}},O=function(e){p.current=!0,g.current&&(E.current=g.current.getBoundingClientRect(),h(e))},y=function(){p.current=!1,a(m)};return"horizontal"===n?o.a.createElement("div",{ref:g,onTouchStart:O,onTouchMove:h,onTouchEnd:y,style:{display:"flex",alignItems:"center",flex:"1",margin:"0 10px"},"data-test-id":"progress-bar"},o.a.createElement("div",{style:{height:"2px",background:"#7e94e5",flex:"1",position:"relative"}},o.a.createElement("div",{style:{position:"absolute",top:"50%",left:"".concat(m,"%"),width:8,height:8,background:"white",borderRadius:"50%",transform:"translateY(-50%) translateX(-50%)"}}),o.a.createElement("div",{style:{height:"100%",width:"".concat(m,"%"),background:"white"},"data-test-id":"progress-bar/progress-line"}))):o.a.createElement("div",{ref:g,onTouchStart:O,onTouchMove:h,onTouchEnd:y,style:{width:"22px",margin:"0px 10px",display:"flex",alignItems:"center",flexDirection:"column",position:"absolute",padding:"5px",background:"aqua",bottom:"50%",left:"100%"},"data-test-id":"progress-bar"},o.a.createElement("div",{style:{width:"2px",height:"200px",background:"gray",position:"relative"}},o.a.createElement("div",{style:{position:"absolute",bottom:"".concat(m,"%"),left:"50%",width:8,height:8,background:"white",borderRadius:"50%",transform:"translateY(50%) translateX(-50%)"}}),o.a.createElement("div",{style:{width:"100%",height:"".concat(m,"%"),position:"absolute",bottom:"0",background:"white"},"data-test-id":"progress-bar/progress-line"})))};n(56);var pn=function(e){var t=e.transcriptions;return o.a.createElement("div",{className:"transcription"},o.a.createElement("h4",{className:"heading heading--light transcription__title"},"Transcription"),t.map((function(e){var t=e.id,n=e.text,a=e.createdAt,c=e.direction;return o.a.createElement("div",{className:"transcription__item ".concat(Q({"transcription__item--incoming":c===r.INCOMING,"transcription__item--outcoming":c===r.OUTCOMING})),key:"message-"+t},o.a.createElement("div",{className:"transcription__text"},n),o.a.createElement("div",{className:"transcription__time"},new Date(a).toISOString().substr(11,5)))})))};function gn(){return(gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function En(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var vn=o.a.createElement("path",{d:"M295.84,146.049l-256-144c-4.96-2.784-11.008-2.72-15.904,0.128C19.008,5.057,16,10.305,16,16.001v288 c0,5.696,3.008,10.944,7.936,13.824c2.496,1.44,5.28,2.176,8.064,2.176c2.688,0,5.408-0.672,7.84-2.048l256-144 c5.024-2.848,8.16-8.16,8.16-13.952S300.864,148.897,295.84,146.049z"}),hn=o.a.createElement("g",null),On=o.a.createElement("g",null),yn=o.a.createElement("g",null),bn=o.a.createElement("g",null),Rn=o.a.createElement("g",null),_n=o.a.createElement("g",null),Sn=o.a.createElement("g",null),Cn=o.a.createElement("g",null),jn=o.a.createElement("g",null),xn=o.a.createElement("g",null),wn=o.a.createElement("g",null),Nn=o.a.createElement("g",null),Tn=o.a.createElement("g",null),Dn=o.a.createElement("g",null),Mn=o.a.createElement("g",null),An=function(e){var t=e.svgRef,n=e.title,r=En(e,["svgRef","title"]);return o.a.createElement("svg",gn({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 320.001 320.001",style:{enableBackground:"new 0 0 320.001 320.001"},xmlSpace:"preserve",ref:t},r),n?o.a.createElement("title",null,n):null,vn,hn,On,yn,bn,Rn,_n,Sn,Cn,jn,xn,wn,Nn,Tn,Dn,Mn)},In=o.a.forwardRef((function(e,t){return o.a.createElement(An,gn({svgRef:t},e))}));n.p;function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Pn=o.a.createElement("g",null,o.a.createElement("path",{d:"M459.313,229.648c0,22.201-17.992,40.199-40.205,40.199H40.181c-11.094,0-21.14-4.498-28.416-11.774 C4.495,250.808,0,240.76,0,229.66c-0.006-22.204,17.992-40.199,40.202-40.193h378.936 C441.333,189.472,459.308,207.456,459.313,229.648z"})),Fn=o.a.createElement("g",null),Un=o.a.createElement("g",null),Bn=o.a.createElement("g",null),Qn=o.a.createElement("g",null),zn=o.a.createElement("g",null),Gn=o.a.createElement("g",null),Yn=o.a.createElement("g",null),Hn=o.a.createElement("g",null),Vn=o.a.createElement("g",null),Xn=o.a.createElement("g",null),Wn=o.a.createElement("g",null),qn=o.a.createElement("g",null),Jn=o.a.createElement("g",null),Zn=o.a.createElement("g",null),$n=o.a.createElement("g",null),Kn=function(e){var t=e.svgRef,n=e.title,r=kn(e,["svgRef","title"]);return o.a.createElement("svg",Ln({id:"Capa_1",x:"0px",y:"0px",width:"459.313px",height:"459.314px",viewBox:"0 0 459.313 459.314",style:{enableBackground:"new 0 0 459.313 459.314"},xmlSpace:"preserve",ref:t},r),n?o.a.createElement("title",null,n):null,Pn,Fn,Un,Bn,Qn,zn,Gn,Yn,Hn,Vn,Xn,Wn,qn,Jn,Zn,$n)},er=o.a.forwardRef((function(e,t){return o.a.createElement(Kn,Ln({svgRef:t},e))}));n.p;function tr(){return(tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var rr=o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M187.733,0H51.2c-9.426,0-17.067,7.641-17.067,17.067V460.8c0,9.426,7.641,17.067,17.067,17.067h136.533 c9.426,0,17.067-7.641,17.067-17.067V17.067C204.8,7.641,197.159,0,187.733,0z"}))),ar=o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M426.667,0H290.133c-9.426,0-17.067,7.641-17.067,17.067V460.8c0,9.426,7.641,17.067,17.067,17.067h136.533 c9.426,0,17.067-7.641,17.067-17.067V17.067C443.733,7.641,436.092,0,426.667,0z"}))),cr=o.a.createElement("g",null),lr=o.a.createElement("g",null),or=o.a.createElement("g",null),ir=o.a.createElement("g",null),ur=o.a.createElement("g",null),sr=o.a.createElement("g",null),dr=o.a.createElement("g",null),mr=o.a.createElement("g",null),fr=o.a.createElement("g",null),pr=o.a.createElement("g",null),gr=o.a.createElement("g",null),Er=o.a.createElement("g",null),vr=o.a.createElement("g",null),hr=o.a.createElement("g",null),Or=o.a.createElement("g",null),yr=function(e){var t=e.svgRef,n=e.title,r=nr(e,["svgRef","title"]);return o.a.createElement("svg",tr({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 477.867 477.867",style:{enableBackground:"new 0 0 477.867 477.867"},xmlSpace:"preserve",ref:t},r),n?o.a.createElement("title",null,n):null,rr,ar,cr,lr,or,ir,ur,sr,dr,mr,fr,pr,gr,Er,vr,hr,Or)},br=o.a.forwardRef((function(e,t){return o.a.createElement(yr,tr({svgRef:t},e))}));n.p;function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Sr=o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("polygon",{points:"192,186.667 373.333,314.667 373.333,58.667  "}),o.a.createElement("polygon",{points:"181.333,314.667 181.333,58.667 0,186.667  "})))),Cr=o.a.createElement("g",null),jr=o.a.createElement("g",null),xr=o.a.createElement("g",null),wr=o.a.createElement("g",null),Nr=o.a.createElement("g",null),Tr=o.a.createElement("g",null),Dr=o.a.createElement("g",null),Mr=o.a.createElement("g",null),Ar=o.a.createElement("g",null),Ir=o.a.createElement("g",null),Lr=o.a.createElement("g",null),kr=o.a.createElement("g",null),Pr=o.a.createElement("g",null),Fr=o.a.createElement("g",null),Ur=o.a.createElement("g",null),Br=function(e){var t=e.svgRef,n=e.title,r=_r(e,["svgRef","title"]);return o.a.createElement("svg",Rr({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 373.333 373.333",style:{enableBackground:"new 0 0 373.333 373.333"},xmlSpace:"preserve",ref:t},r),n?o.a.createElement("title",null,n):null,Sr,Cr,jr,xr,wr,Nr,Tr,Dr,Mr,Ar,Ir,Lr,kr,Pr,Fr,Ur)},Qr=o.a.forwardRef((function(e,t){return o.a.createElement(Br,Rr({svgRef:t},e))}));n.p;function zr(){return(zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Yr=o.a.createElement("polygon",{points:"27,27.5 0,46.487 0,27.845 0,8.513 "}),Hr=o.a.createElement("polygon",{points:"55,27.5 28,46.5 28,27.5 28,8.5 "}),Vr=o.a.createElement("g",null),Xr=o.a.createElement("g",null),Wr=o.a.createElement("g",null),qr=o.a.createElement("g",null),Jr=o.a.createElement("g",null),Zr=o.a.createElement("g",null),$r=o.a.createElement("g",null),Kr=o.a.createElement("g",null),ea=o.a.createElement("g",null),ta=o.a.createElement("g",null),na=o.a.createElement("g",null),ra=o.a.createElement("g",null),aa=o.a.createElement("g",null),ca=o.a.createElement("g",null),la=o.a.createElement("g",null),oa=function(e){var t=e.svgRef,n=e.title,r=Gr(e,["svgRef","title"]);return o.a.createElement("svg",zr({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 55 55",style:{enableBackground:"new 0 0 55 55"},xmlSpace:"preserve",ref:t},r),n?o.a.createElement("title",null,n):null,Yr,Hr,Vr,Xr,Wr,qr,Jr,Zr,$r,Kr,ea,ta,na,ra,aa,ca,la)},ia=o.a.forwardRef((function(e,t){return o.a.createElement(oa,zr({svgRef:t},e))})),ua=(n.p,n(31)),sa=n.n(ua),da=[.25,.5,.75,1,1.25,1.5,1.75,2].map((function(e){return{title:e+"x",value:e}}));function ma(e,t){M(e,t.start),N((function(){M(e,t.nextFrame)})),A(e,(function(){M(e,t.end)}))}var fa=Object(gt.b)((function(e){return{playingRecord:e.audioPlayer.playingRecord}}))((function(e){var t=e.playingRecord,n=e.setOpenedMenu,r=Object(l.useState)(!1),a=Object(d.a)(r,2),c=a[0],i=a[1],u=Object(l.useState)(0),s=Object(d.a)(u,2),m=s[0],f=s[1],p=Object(l.useState)(0),g=Object(d.a)(p,2),E=g[0],v=g[1],h=Object(l.useState)(0),y=Object(d.a)(h,2),b=y[0],R=y[1],_=Object(l.useState)(1),C=Object(d.a)(_,2),x=C[0],w=C[1],N=Object(l.useState)(!1),T=Object(d.a)(N,2),D=T[0],A=T[1],I=Object(l.useRef)(null),L=Object(l.useRef)(null),k=Object(l.useRef)({initial:0,max:0}),P=Ye((function(e){if(e){e.style.height="";var t=e.getBoundingClientRect().height;e.style.height=sa.a.PLAYER_MAX_HEIGHT;var n=e.getBoundingClientRect().height;e.style.height="",k.current={initial:t,max:n}}}),[t]),F=Object(d.a)(P,2),U=F[0],B=F[1],Q=Object(l.useMemo)((function(){return He({onPanMove:function(e){var t=e.deltaY,n=U.current;if(n){var r=k.current,a=r.initial,c=r.max,l=null,o=null;!D&&t>0?(o=a+t)>c&&(o=c):D&&t<0&&(o=c+t)<a&&(o=a),O(o)&&(M(n,"height","".concat(o,"px")),l=(o-a)/(c-a)),L.current&&O(l)&&M(L.current,"opacity","".concat(l))}},onPanEnd:function(e){var t=e.deltaY,n=U.current;Math.abs(t)>60?A(t>0):n&&(D?M(n,"height","".concat(k.current.max,"px")):(M(n,"height",""),L.current&&M(L.current,"opacity","0")))}})}),[D,U]);Object(l.useEffect)((function(){var e=k.current,t=e.initial,n=e.max;if(U.current){var r=U.current,a=r.offsetHeight,c=D,l=function(e,t,n,r,a){var c=(n-e)/(n-t);return a||(c=1-c),c*r}(a,t,n,300,c);D?z():G(),function(e,r,a){var c=r?[t,n]:[n,t],l=Object(d.a)(c,2),o=l[0],i=l[1];e.style.height||M(e,"height","".concat(o,"px")),ma(e,{start:{transition:"height ".concat(a,"ms ease-in-out")},nextFrame:{height:"".concat(i,"px")},end:{transition:""}})}(r,c,l),L.current&&function(e,t,n){var r=t?["1","auto"]:["0",""],a=Object(d.a)(r,2),c=a[0],l=a[1];ma(e,{start:{transition:"opacity ".concat(n,"ms ease-in-out"),pointerEvents:l},nextFrame:{opacity:c},end:{transition:""}})}(L.current,c,l)}}),[D,U]);var Y=Object(l.useCallback)((function(){var e=I.current;e&&!e.paused&&(e.pause(),i(!1))}),[i]);Object(l.useEffect)((function(){var e=I.current;return t&&e&&(e.src=t.record.file),Y}),[Y,t]);return t?o.a.createElement("div",{className:"player"},o.a.createElement("div",{className:"player__overlay",ref:L,onClick:function(){return A(!1)}}),o.a.createElement("div",{ref:B,className:"player__content","data-test-id":"audio-player"},o.a.createElement("div",Object.assign({},Q,{className:"player__drag"}),o.a.createElement(er,{className:"player__drag-icon"})),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement(ne,{record:t,theme:"light"}),o.a.createElement("button",{onClick:function(){return n(t)}},o.a.createElement(ue,{fill:"white",width:"16",height:"16"}))),o.a.createElement("audio",{ref:I,onLoadedMetadata:function(){var e,t=S(null===(e=I.current)||void 0===e?void 0:e.duration);v(t)},onTimeUpdate:function(e){var t=S(e.target.currentTime);R(t/E*100),f(t)},onEnded:function(){return i(!1)},style:{display:"none"},"data-test-id":"audio-player/audio"}),o.a.createElement("div",{className:"player__time-progress"},o.a.createElement("div",{"data-test-id":"audio-player/current-time"},j(m)),o.a.createElement(fn,{currentPercent:b,onUpdate:function(e){var t=I.current;t&&(t.currentTime=e/100*E)}}),o.a.createElement("div",null,j(E))),o.a.createElement("div",{className:"player__controls"},o.a.createElement(jt,{style:{width:"25%"},value:x,onChange:function(e){var t=parseFloat(e.target.value);I.current&&(I.current.playbackRate=t),w(t)},options:da,hasArrow:!1,hasBorder:!1,isLight:!0}),o.a.createElement("div",{className:"player__controls-time"},o.a.createElement("button",{className:"player__update-time player__update-time--backward",onClick:function(){I.current&&(I.current.currentTime-=10)},"data-test-id":"audio-player/backward"},o.a.createElement(Qr,{className:"player__update-time-icon"})),c?o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"player__toggle-playing-btn",onClick:Y,"data-test-id":"audio-player/pause"},o.a.createElement(br,{className:"player__toggle-playing-icon player__toggle-playing-icon--pause"}))):o.a.createElement("button",{className:"player__toggle-playing-btn",onClick:function(){var e=I.current;e&&e.paused&&(e.play(),i(!0))},"data-test-id":"audio-player/play"},o.a.createElement(In,{className:"player__toggle-playing-icon player__toggle-playing-icon--play"})),o.a.createElement("button",{className:"player__update-time player__update-time--forward",onClick:function(){I.current&&(I.current.currentTime+=10)},"data-test-id":"audio-player/forward"},o.a.createElement(ia,{className:"player__update-time-icon"})))),D&&o.a.createElement(pn,{transcriptions:t.record.transcriptions}))):null})),pa=(n(57),function(e){var t=e.isOpened,n=e.onClose,r=e.items;return o.a.createElement(Ct,{isOpened:t,onClose:n},o.a.createElement("div",{className:"bottom-menu"},r.map((function(e,t){var n=e.title,r=e.theme,a=e.onClick;return o.a.createElement("button",{key:"bottom-menu-item-".concat(t),className:"bottom-menu__button ".concat("danger"===r?"bottom-menu__button--danger":""),onClick:a},n)}))))});function ga(e,t){var n=document.createElement("a");n.href=e,n.download=t||"file",n.click()}var Ea={deleteRecord:function(e){return function(t){t(ut(e)),Me.remove(e).then((function(){return t(st(e))})).catch((function(n){t(dt(e)),w(n),et({title:"Error occurred",message:"Failed to delete record, check your internet connection and try again"})}))}}},va=Object(gt.b)(null,Ea)((function(e){var t=e.record,n=e.onClose,r=e.deleteRecord;return o.a.createElement(pa,{isOpened:!!t,onClose:n,items:[{title:"Download",onClick:function(){t&&ga(t.record.file)}},{title:"Download Text",onClick:function(){t&&function(e,t){var n=new Blob([e],{type:t}),r=window.URL.createObjectURL(n);console.log(r),ga(r)}(JSON.stringify(t.record.transcriptions,null,2),"application/json")}},{title:"Delete",onClick:function(){t&&r(t.id)},theme:"danger"}]})})),ha=function(){var e=Object(l.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1];return o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20}},o.a.createElement("h2",{className:"heading"},"\u0412\u0430\u0448\u0438 \u0437\u0432\u043e\u043d\u043a\u0438")),o.a.createElement(mn,null),o.a.createElement(ln,null),o.a.createElement(Ot,{setOpenedMenu:r}),o.a.createElement(va,{record:n,onClose:function(){return r(void 0)}}),o.a.createElement(fa,{setOpenedMenu:r}))};function Oa(){return(Oa=Object(we.a)(xe.a.mark((function e(t){var n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.phone,r=t.password,e.abrupt("return",F("/login/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n,password:r})}).then((function(e){sessionStorage.setItem("token",e),Qe.push({pathname:"/"})})).catch((function(e){et({title:"Authorization error",message:"Invalid credentials"}),w(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ya(){return(ya=Object(we.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F("/login/sms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ba(){return(ba=Object(we.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F("/login/sms/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ra={loginByPassword:function(e){return Oa.apply(this,arguments)},loginBySMS:function(e){return ya.apply(this,arguments)},verifySMSCode:function(e){return ba.apply(this,arguments)}},_a=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$/,Sa=function(e){return _a.test(e)},Ca=function(e){return 11===e.replace(/\D/g,"").length},ja=function(e,t){var n=S(e);return-1!==n?n>=t:e.length>=t},xa=function(e,t){var n=S(e);return-1!==n?n<=t:e.length<=t},wa=function(e,t){return h(e)?e:P(e,t)&&e[t]||"error"};function Na(e,t,n){return e?[e]:[e,wa(t,n)]}var Ta,Da=function(e){var t=e.value,n=e.onChange,r=e.validations,a=e.errorMessage,c=Object(f.a)(e,["value","onChange","validations","errorMessage"]),i=Object(l.useState)(),u=Object(d.a)(i,2),s=u[0],m=u[1],p=Object(l.useRef)(!1),g=function(e){var t=function(e,t,n){var r=t.email,a=t.phone,c=t.min,l=t.max;return r?Na(Sa(e),n,"email"):a?Na(Ca(e),n,"phone"):O(c)?Na(ja(e,c),n,"min"):O(l)?Na(xa(e,l),n,"max"):[!0]}(e,r,a),n=Object(d.a)(t,2),c=n[0],l=n[1];m(c&&s?void 0:l)};return o.a.createElement("div",null,o.a.createElement(yt,Object.assign({value:t,onBlur:function(e){p.current||g(e.target.value),p.current=!0},onChange:function(e){p.current&&g(t),n&&n(e)}},c)),o.a.createElement("div",{style:{color:"red",margin:"5px 20px 10px",height:14,textAlign:"left"}},s))},Ma=function(e){var t=new Set;return e.forEach(t.add,t),t}(["+","7","8"]),Aa=function(e){return e.replace(/\D/g,"")},Ia=function(e){var t=[e.substring(0,1),e.substring(1,4),e.substring(4,7),e.substring(7,11)].filter(I).join(" ");return t.length>0?"+".concat(t):t},La=function(e){var t=e.value,n=void 0===t?"":t,r=e.onChange,a=Object(f.a)(e,["value","onChange"]),c=Object(l.useState)(n),i=Object(d.a)(c,2),u=i[0],s=i[1];Object(l.useEffect)((function(){s(Aa(n))}),[n]);return o.a.createElement(Da,Object.assign({value:Ia(u),onChange:function(e){var t=Aa(e.target.value),n=!0,a=null;""===u&&t.length<=1?a=Ma.has(t)?"+7":"+7"+t:t.length>11?n=!1:a=t,n&&h(a)&&(a=a.substr(0,11),s(a),r&&r(a))},validations:{phone:!0},errorMessage:"min: 11"},a))};!function(e){e.PASSWORD="PASSWORD",e.SMS="SMS"}(Ta||(Ta={}));var ka,Pa=function(e){var t=e.phone,n=e.setPhone,r=Object(l.useState)(""),a=Object(d.a)(r,2),c=a[0],i=a[1];return o.a.createElement("form",{style:{textAlign:"center",marginTop:"30px"},onSubmit:function(e){e.preventDefault(),Ra.loginByPassword({phone:t,password:c})}},o.a.createElement(La,{value:t,onChange:n,placeholder:"Phone",name:"phone"}),o.a.createElement(Da,{value:c,onChange:function(e){return i(e.target.value)},placeholder:"Password",name:"password",type:"password",validations:{min:6},errorMessage:"min: 6"}),o.a.createElement(p,null,"Submit"))};!function(e){e[e.ENTER_NUMBER=0]="ENTER_NUMBER",e[e.ENTER_SMS_CODE=1]="ENTER_SMS_CODE"}(ka||(ka={}));var Fa=function(e){var t=e.phone,n=e.setPhone,r=Object(l.useState)(""),a=Object(d.a)(r,2),c=a[0],i=a[1],u=Object(l.useState)(ka.ENTER_NUMBER),s=Object(d.a)(u,2),m=s[0],f=s[1];Ge((function(){4===c.length&&Ra.verifySMSCode(c).then((function(e){sessionStorage.setItem("token",e),Qe.push("/")}))}),[c]);var g=function(){var e=Object(we.a)(xe.a.mark((function e(n){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),e.next=4,Ra.loginBySMS(t);case 4:f(ka.ENTER_SMS_CODE),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),w(e.t0),et({title:"Error ocurred",message:"check that phone number is valid and try again"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("form",{onSubmit:g,style:{textAlign:"center",marginTop:"30px"}},m===ka.ENTER_NUMBER?o.a.createElement(o.a.Fragment,null,o.a.createElement(La,{value:t,onChange:n,placeholder:"Phone",name:"phone"}),o.a.createElement(p,null,"Continue")):o.a.createElement(yt,{value:c,onChange:function(e){c.length<4&&i(e.target.value)}}))},Ua=function(){var e=Object(l.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)(Ta.PASSWORD),c=Object(d.a)(a,2),i=c[0],u=c[1],s=i===Ta.SMS?Fa:Pa;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"heading",style:{textAlign:"center",marginBottom:20}},"Login"),o.a.createElement(on,{selectedValue:i,onChange:function(e){return u(e)},variants:[{title:"password",value:Ta.PASSWORD},{title:"sms",value:Ta.SMS}],name:"login-type"}),o.a.createElement(s,{phone:n,setPhone:r}))},Ba=function(){return o.a.createElement(Ua,null)},Qa=function(){return o.a.createElement("div",null,o.a.createElement("h1",{className:"heading"},"404 error"))},za=function(e){var t=e.component,n=e.condition,r=e.redirectPath,a=Object(f.a)(e,["component","condition","redirectPath"]);return o.a.createElement(s.b,Object.assign({},a,{render:function(e){return n()?o.a.createElement(t,e):o.a.createElement(s.a,{to:r})}}))};n(58);var Ga=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(s.d,null,o.a.createElement(za,{path:"/",component:ha,condition:function(){return!!sessionStorage.getItem("token")},redirectPath:"/login",exact:!0}),o.a.createElement(za,{path:"/login",component:Ba,condition:function(){return!sessionStorage.getItem("token")},redirectPath:"/",exact:!0}),o.a.createElement(s.b,{path:"*",component:Qa})),o.a.createElement(tt,null))},Ya=n(14),Ha=n(32),Va=Object(Ya.c)({callRecords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.REQUEST_RECORDS:return Object(_e.a)({},e,{isFetching:!0,page:1});case ye.REQUEST_RECORDS_SUCCESS:return Object(_e.a)({},e,{records:t.payload.records,isFetching:!1,isFetchingFailed:!1,hasMoreRecords:t.payload.hasMoreRecords});case ye.REQUEST_RECORDS_FAIL:return Object(_e.a)({},e,{isFetchingFailed:!0,isFetching:!1});case ye.DELETE_RECORD_REQUEST:return Object(_e.a)({},e,{records:e.records.map((function(e){return e.id===t.payload?Object(_e.a)({},e,{isDeleting:!0}):e}))});case ye.DELETE_RECORD_SUCCESS:return Object(_e.a)({},e,{records:e.records.filter((function(e){return e.id!==t.payload}))});case ye.DELETE_RECORD_FAIL:return Object(_e.a)({},e,{records:e.records.map((function(e){return e.id===t.payload?Object(_e.a)({},e,{isDeleting:!1,isFetchingFailed:!0}):e}))});case ye.LOAD_MORE_RECORDS_REQUEST:return Object(_e.a)({},e,{isLoadingMore:!0,isLoadingMoreFailed:!1});case ye.LOAD_MORE_RECORDS_SUCCESS:return Object(_e.a)({},e,{page:e.page+1,records:[].concat(Object(Re.a)(e.records),Object(Re.a)(t.payload.records)),hasMoreRecords:t.payload.hasMoreRecords,isLoadingMore:!1});case ye.LOAD_MORE_RECORDS_FAIL:return Object(_e.a)({},e,{isLoadingMore:!1,isLoadingMoreFailed:!0});case ye.SET_SEARCH_QUERY:return Object(_e.a)({},e,{searchQuery:t.payload});case ye.SET_SORTING:return Object(_e.a)({},e,{sorting:t.payload});case ye.SET_DATE_INTERVAL:return Object(_e.a)({},e,{dateInterval:t.payload});case ye.SET_CALL_DIRECTION:return Object(_e.a)({},e,{direction:t.payload});default:return e}},audioPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke.SET_PLAYING_RECORD:return Object(_e.a)({},e,{playingRecord:t.payload});default:return e}}}),Xa=Ya.d,Wa=Object(Ya.e)(Va,Xa(Object(Ya.a)(Ha.a)));n(59);u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ze,null,o.a.createElement(gt.a,{store:Wa},o.a.createElement(Ga,null)))),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.a78026b7.chunk.js.map